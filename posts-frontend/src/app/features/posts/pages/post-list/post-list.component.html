<div class="p-6 max-w-7xl mx-auto">
  <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
    <h1 class="text-3xl font-extrabold text-primary tracking-tight">Publicaciones</h1>

    <div class="flex flex-wrap items-center gap-3">
      <app-button variant="outline" [routerLink]="['create']">
        <span class="mr-1">+</span> Nuevo Post
      </app-button>

      <app-button variant="outline" [routerLink]="['bulk']">
        <span class="mr-1">ðŸ“¦</span> Cargar JSON
      </app-button>
    </div>
  </div>

  <div class="mb-6">
    <app-form-field>
      <input type="text" [ngModel]="search()" (ngModelChange)="search.set($event)"
        placeholder="Buscar por tÃ­tulo o autor..."
        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" />
    </app-form-field>
  </div>

  @if (isLoading()) {
    <loader-spinner />
  } @else {
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    @for (post of filteredPosts(); track post._id) {
      <posts-post-card [post]="post" (edit)="onEdit($event)" (delete)="onDelete($event)" />
    } @empty {
    <div class="col-span-full text-center py-20 text-text-muted">
      No se encontraron publicaciones.
    </div>
    }
  </div>
  }
</div>
